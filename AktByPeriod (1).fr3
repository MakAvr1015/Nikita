<?xml version="1.0" encoding="utf-8" standalone="no"?>
<TfrxReport Version="6.9.15" DotMatrixReport="False" IniFile="\Software\Fast Reports" PreviewOptions.AllowEdit="False" PreviewOptions.Buttons="4095" PreviewOptions.ShowCaptions="True" PreviewOptions.Zoom="1" PreviewOptions.ZoomMode="zmWholePage" PrintOptions.Printer="Default" PrintOptions.PrintOnSheet="0" ReportOptions.CreateDate="40490.7995124421" ReportOptions.Description.Text="" ReportOptions.Name="Отчеты|Акт сверки за период" ReportOptions.LastChange="45282.380019456" ScriptLanguage="PascalScript" ScriptText.Text="procedure Button1OnClick(Sender: TfrxComponent);&#13;&#10;begin&#13;&#10;  Report.Variables.Variables['str_date']:=DateEdit_str.Date;&#13;&#10;  Report.Variables.Variables['end_date']:=DateEdit_end.Date;&#13;&#10;end;&#13;&#10;&#13;&#10;procedure DialogPage1OnShow(Sender: TfrxComponent);&#13;&#10;begin&#13;&#10;  DateEdit_str.date:=date;&#13;&#10;  DateEdit_end.date:=date;&#13;&#10;end;&#13;&#10;&#13;&#10;begin&#13;&#10;&#13;&#10;end.">
  <Datasets>
    <item DataSet="dsResult" DataSetName="dsResult"/>
  </Datasets>
  <Variables>
    <item Name=" Frm"/>
    <item Name="TFrmInputPayList"/>
    <item Name="TFrmDocOutList"/>
    <item Name="F_ID"/>
    <item Name="F_PARTNER"/>
    <item Name="F_NUMBER"/>
    <item Name="F_DATE"/>
    <item Name="F_STATE"/>
    <item Name="F_STATE_NAME"/>
    <item Name="F_SKLAD_NAME"/>
    <item Name="F_PARTNER_NAME"/>
    <item Name="F_SKLAD"/>
    <item Name="F_DOC_COUNT"/>
    <item Name="F_DOC_SUM"/>
    <item Name="F_DOC_SKIDKA"/>
    <item Name="F_PAYDATE_PLAN"/>
    <item Name="F_PRICE_NAME"/>
    <item Name="F_DOC_SKIDKA_PERCENT"/>
    <item Name="F_VALUE"/>
    <item Name="TFrmOutputPayList"/>
    <item Name=" Val"/>
    <item Name="str_date"/>
    <item Name="end_date"/>
  </Variables>
  <TfrxDataPage Name="Data" HGuides.Text="" VGuides.Text="" Height="1000" Left="0" Top="0" Width="1000">
    <TfrxFIBQuery Name="dsResult" UserName="dsResult" CloseDataSource="True" FieldAliases.Text="" BCDToCurrency="False" IgnoreDupParams="False" SQL.Text="select * from&#13;&#10;(&#13;&#10;select&#13;&#10;  'Входящий баланс    ' as Doc_name,&#13;&#10;  null as f_date,&#13;&#10;  null as f_out_number,&#13;&#10;  coalesce((select sum(f_doc_sum) from t_doc_out where f_partner=:f_partner&#13;&#10;    and f_date&#60;:f_start and f_state&#62;=3),0)&#13;&#10;  +&#13;&#10; coalesce((select sum(f_summa) from t_money_out where f_partner=:f_partner&#13;&#10;    and f_date&#60;:f_start and f_state&#62;=3),0)&#13;&#10;&#13;&#10;&#13;&#10;    as f_doc_sum,&#13;&#10;  null as f_pay_number,&#13;&#10;  coalesce((select sum(f_summa) from t_money_in where f_partner=:f_partner&#13;&#10;    and f_date&#60;:f_start and f_state&#62;=3),0)&#13;&#10;  +&#13;&#10;  coalesce((select sum(f_doc_sum) from t_doc_in where f_partner=:f_partner&#13;&#10;    and f_date&#60;:f_start and f_state&#62;=3),0)&#13;&#10;&#13;&#10;    as f_pay_sum&#13;&#10;from&#13;&#10; rdb$database&#13;&#10;union all&#13;&#10;select&#13;&#10; (select f_name from SP_T_NSI_DOC_OUT_TYPES_GET(f_type)),&#13;&#10;  f_date,&#13;&#10;  f_number,&#13;&#10;  f_doc_sum,&#13;&#10;  null,&#13;&#10;  null&#13;&#10;from&#13;&#10;  t_doc_out where f_date between :f_start and :f_end and f_partner=:f_partner&#13;&#10;  and f_state&#62;=3&#13;&#10; union all&#13;&#10;select&#13;&#10;  (select f_name from SP_T_NSI_DOC_IN_TYPES_GET(f_type)),&#13;&#10;  f_date,&#13;&#10;  null,&#13;&#10;  null,&#13;&#10;  f_number,&#13;&#10;  f_doc_sum&#13;&#10;&#13;&#10;from&#13;&#10;  t_doc_in where f_date between :f_start and :f_end and f_partner=:f_partner&#13;&#10;  and f_state&#62;=3&#13;&#10;union all&#13;&#10;select&#13;&#10;  'Входящий платеж',&#13;&#10;  f_date,&#13;&#10;  null,&#13;&#10;  null,&#13;&#10;  f_number,&#13;&#10;  f_summa&#13;&#10;from&#13;&#10;  t_money_in where f_date between :f_start and :f_end and f_partner=:f_partner&#13;&#10;  and f_state&#62;=3&#13;&#10;union all&#13;&#10;select&#13;&#10;  'Исходящий платеж',&#13;&#10;  f_date,&#13;&#10;  f_number,&#13;&#10;  f_summa,&#13;&#10;  null,&#13;&#10;  null&#13;&#10;from&#13;&#10;  t_money_out where f_date between :f_start and :f_end and f_partner=:f_partner&#13;&#10;  and f_state&#62;=3&#13;&#10;)&#13;&#10;order by f_date" PropData="05704C656674023C0470546F7002140A506172616D657465727301010647204E616D653D22665F706172746E6572222044617461547970653D226674556E6B6E6F776E222045787072657373696F6E3D22262336303B465F504152544E4552262336323B2200010641204E616D653D22665F7374617274222044617461547970653D22667444617465222045787072657373696F6E3D22262336303B7374725F64617465262336323B2200010647204E616D653D22665F706172746E6572222044617461547970653D226674556E6B6E6F776E222045787072657373696F6E3D22262336303B465F504152544E4552262336323B2200010641204E616D653D22665F7374617274222044617461547970653D22667444617465222045787072657373696F6E3D22262336303B7374725F64617465262336323B2200010647204E616D653D22665F706172746E6572222044617461547970653D226674556E6B6E6F776E222045787072657373696F6E3D22262336303B465F504152544E4552262336323B2200010641204E616D653D22665F7374617274222044617461547970653D22667444617465222045787072657373696F6E3D22262336303B7374725F64617465262336323B2200010647204E616D653D22665F706172746E6572222044617461547970653D226674556E6B6E6F776E222045787072657373696F6E3D22262336303B465F504152544E4552262336323B2200010641204E616D653D22665F7374617274222044617461547970653D22667444617465222045787072657373696F6E3D22262336303B7374725F64617465262336323B2200010641204E616D653D22665F7374617274222044617461547970653D22667444617465222045787072657373696F6E3D22262336303B7374725F64617465262336323B220001063F204E616D653D22665F656E64222044617461547970653D22667444617465222045787072657373696F6E3D22262336303B656E645F64617465262336323B2200010647204E616D653D22665F706172746E6572222044617461547970653D226674556E6B6E6F776E222045787072657373696F6E3D22262336303B465F504152544E4552262336323B2200010641204E616D653D22665F7374617274222044617461547970653D22667444617465222045787072657373696F6E3D22262336303B7374725F64617465262336323B220001063F204E616D653D22665F656E64222044617461547970653D22667444617465222045787072657373696F6E3D22262336303B656E645F64617465262336323B2200010647204E616D653D22665F706172746E6572222044617461547970653D226674556E6B6E6F776E222045787072657373696F6E3D22262336303B465F504152544E4552262336323B2200010641204E616D653D22665F7374617274222044617461547970653D22667444617465222045787072657373696F6E3D22262336303B7374725F64617465262336323B220001063F204E616D653D22665F656E64222044617461547970653D22667444617465222045787072657373696F6E3D22262336303B656E645F64617465262336323B2200010647204E616D653D22665F706172746E6572222044617461547970653D226674556E6B6E6F776E222045787072657373696F6E3D22262336303B465F504152544E4552262336323B2200010641204E616D653D22665F7374617274222044617461547970653D22667444617465222045787072657373696F6E3D22262336303B7374725F64617465262336323B220001063F204E616D653D22665F656E64222044617461547970653D22667444617465222045787072657373696F6E3D22262336303B656E645F64617465262336323B2200010647204E616D653D22665F706172746E6572222044617461547970653D226674556E6B6E6F776E222045787072657373696F6E3D22262336303B465F504152544E4552262336323B220000"/>
  </TfrxDataPage>
  <TfrxDialogPage Name="DialogPage1" Font.Charset="1" Font.Color="0" Font.Height="-11" Font.Name="Tahoma" Font.Style="0" HGuides.Text="" VGuides.Text="" DoubleBuffered="False" Height="114" ClientHeight="76" Left="608" Top="308" Width="238" Scaled="True" ClientWidth="224" OnShow="DialogPage1OnShow">
    <TfrxDateEditControl Name="DateEdit_str" Left="8" Top="28" Width="97" Height="21" ShowHint="True" Color="-16777211" Date="40326.8342829398" Time="40326.8342829398" WeekNumbers="False"/>
    <TfrxDateEditControl Name="DateEdit_end" Left="120" Top="28" Width="97" Height="21" ShowHint="True" Color="-16777211" Date="40326.8342829398" Time="40326.8342829398" WeekNumbers="False"/>
    <TfrxLabelControl Name="Label1" Left="8" Top="8" Width="76.8" Height="12.8" ShowHint="True" Caption="Начало периода" Color="-16777201"/>
    <TfrxLabelControl Name="Label2" Left="120" Top="8" Width="93.6" Height="12.8" ShowHint="True" Caption="Окончание периода" Color="-16777201"/>
    <TfrxButtonControl Name="Button1" Left="8" Top="56" Width="99" Height="25" ShowHint="True" Caption="Сформировать" ModalResult="1" OnClick="Button1OnClick"/>
    <TfrxButtonControl Name="Button2" Left="120" Top="56" Width="99" Height="25" ShowHint="True" Caption="Отмена" ModalResult="2"/>
  </TfrxDialogPage>
  <TfrxReportPage Name="Page1" HGuides.Text="" VGuides.Text="" PaperWidth="210" PaperHeight="297" PaperSize="9" LeftMargin="5" RightMargin="5" TopMargin="5" BottomMargin="5" ColumnWidth="0" ColumnPositions.Text="" Frame.Typ="0" MirrorMode="0">
    <TfrxReportTitle Name="ReportTitle1" FillType="ftBrush" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Frame.Typ="0" Height="41.57483" Left="0" Top="18.89765" Width="755.906">
      <TfrxMemoView Name="Memo14" Align="baCenter" AllowVectorExport="True" Left="15.11812" Top="0" Width="725.66976" Height="37.7953" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="0" ParentFont="False" Text="Акт сверки c партнером [f_partner_name] за период с [DateToStr(&#60;str_date&#62;)] по [DateToStr(&#60;end_date&#62;)]"/>
    </TfrxReportTitle>
    <TfrxHeader Name="Header1" FillType="ftBrush" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Frame.Typ="0" Height="30.23624" Left="0" Top="120.94496" Width="755.906">
      <TfrxMemoView Name="Memo7" AllowVectorExport="True" Left="347.71676" Top="0" Width="79.37013" Height="30.23624" DataSet="dsResult" DataSetName="dsResult" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" ParentFont="False" Text="Дата"/>
      <TfrxMemoView Name="Memo8" AllowVectorExport="True" Left="427.08689" Top="15.11812" Width="68.03154" Height="15.11812" DataSet="dsResult" DataSetName="dsResult" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" ParentFont="False" Text="Номер"/>
      <TfrxMemoView Name="Memo9" AllowVectorExport="True" Left="495.11843" Top="15.11812" Width="79.37013" Height="15.11812" DataSet="dsResult" DataSetName="dsResult" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" ParentFont="False" Text="Сумма"/>
      <TfrxMemoView Name="Memo10" AllowVectorExport="True" Left="574.48856" Top="15.11812" Width="75.5906" Height="15.11812" DataSet="dsResult" DataSetName="dsResult" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" ParentFont="False" Text="Номер"/>
      <TfrxMemoView Name="Memo11" AllowVectorExport="True" Left="650.07916" Top="15.11812" Width="79.37013" Height="15.11812" DataSet="dsResult" DataSetName="dsResult" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" ParentFont="False" Text="Сумма"/>
      <TfrxMemoView Name="Memo12" AllowVectorExport="True" Left="427.08689" Top="0" Width="147.40167" Height="15.11812" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="False" Text="Расходы"/>
      <TfrxMemoView Name="Memo13" AllowVectorExport="True" Left="574.48856" Top="0" Width="154.96073" Height="15.11812" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" HAlign="haCenter" ParentFont="False" Text="Приходы"/>
    </TfrxHeader>
    <TfrxMasterData Name="MasterData1" FillType="ftBrush" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Frame.Typ="0" Height="18.89765" Left="0" Top="173.85838" Width="755.906" ColumnWidth="0" ColumnGap="0" DataSet="dsResult" DataSetName="dsResult" RowCount="0">
      <TfrxMemoView Name="Memo1" AllowVectorExport="True" Left="3.77953" Top="0" Width="343.93723" Height="18.89765" DataField="DOC_NAME" DataSet="dsResult" DataSetName="dsResult" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" ParentFont="False" Text="[dsResult.&#34;DOC_NAME&#34;]"/>
      <TfrxMemoView Name="Memo2" AllowVectorExport="True" Left="347.71676" Top="0" Width="79.37013" Height="18.89765" DataField="F_DATE" DataSet="dsResult" DataSetName="dsResult" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" ParentFont="False" Text="[dsResult.&#34;F_DATE&#34;]"/>
      <TfrxMemoView Name="Memo3" AllowVectorExport="True" Left="427.08689" Top="0" Width="68.03154" Height="18.89765" DataField="F_OUT_NUMBER" DataSet="dsResult" DataSetName="dsResult" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" ParentFont="False" Text="[dsResult.&#34;F_OUT_NUMBER&#34;]"/>
      <TfrxMemoView Name="Memo4" AllowVectorExport="True" Left="495.11843" Top="0" Width="79.37013" Height="18.89765" DataField="F_DOC_SUM" DataSet="dsResult" DataSetName="dsResult" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" ParentFont="False" Text="[dsResult.&#34;F_DOC_SUM&#34;]"/>
      <TfrxMemoView Name="Memo5" AllowVectorExport="True" Left="574.48856" Top="0" Width="75.5906" Height="18.89765" DataField="F_PAY_NUMBER" DataSet="dsResult" DataSetName="dsResult" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" ParentFont="False" Text="[dsResult.&#34;F_PAY_NUMBER&#34;]"/>
      <TfrxMemoView Name="Memo6" AllowVectorExport="True" Left="650.07916" Top="0" Width="79.37013" Height="18.89765" DataField="F_PAY_SUM" DataSet="dsResult" DataSetName="dsResult" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="15" ParentFont="False" Text="[dsResult.&#34;F_PAY_SUM&#34;]"/>
    </TfrxMasterData>
    <TfrxFooter Name="Footer1" FillType="ftBrush" FillGap.Top="0" FillGap.Left="0" FillGap.Bottom="0" FillGap.Right="0" Frame.Typ="0" Height="71.81107" Left="0" Top="215.43321" Width="755.906">
      <TfrxSysMemoView Name="SysMemo1" AllowVectorExport="True" Left="495.11843" Top="0" Width="79.37013" Height="18.89765" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="0" ParentFont="False" Text="[SUM(&#60;dsResult.&#34;F_DOC_SUM&#34;&#62;,MasterData1)]"/>
      <TfrxSysMemoView Name="SysMemo2" AllowVectorExport="True" Left="650.07916" Top="0" Width="79.37013" Height="18.89765" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="0" ParentFont="False" Text="[SUM(&#60;dsResult.&#34;F_PAY_SUM&#34;&#62;,MasterData1)]"/>
      <TfrxMemoView Name="Memo15" AllowVectorExport="True" Left="3.77953" Top="3.77953" Width="343.93723" Height="18.89765" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="0" ParentFont="False" Text="Исходящий баланс"/>
      <TfrxMemoView Name="Memo16" AllowVectorExport="True" Left="3.77953" Top="30.23624" Width="343.93723" Height="18.89765" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="0" ParentFont="False" Text="Задолженность на конец периода"/>
      <TfrxMemoView Name="Memo17" AllowVectorExport="True" Left="495.11843" Top="26.45671" Width="79.37013" Height="18.89765" Font.Charset="1" Font.Color="-16777208" Font.Height="-13" Font.Name="Arial" Font.Style="0" Frame.Typ="8" ParentFont="False" Text="[SUM(&#60;dsResult.&#34;F_DOC_SUM&#34;&#62;,MasterData1) - SUM(&#60;dsResult.&#34;F_PAY_SUM&#34;&#62;,MasterData1)]"/>
    </TfrxFooter>
  </TfrxReportPage>
</TfrxReport>
